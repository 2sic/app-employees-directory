@inherits Custom.Hybrid.Razor12
@using DotNetNuke.Framework.JavaScriptLibraries;
@{
  // get CSS information about the current Theme
  var page = GetService<ToSic.Sxc.Web.IPageService>();
  var pageCss = GetService<Connect.Koi.ICss>();

  page.Activate("turnOn"); // see https://r.2sxc.org/turnon
}
<turnOn turn-on='{"run": "window.appPeopleDirectory4.init()" }'></turnOn>

@* show warning for admin if koi.json is missing *@
@if (pageCss.IsUnknown && CmsContext.User.IsSiteAdmin) {
  <div class='dnnFormMessage dnnFormWarning'>
    @Html.Raw(Connect.Koi.Messages.CssInformationMissing) <br>
    @Html.Raw(Connect.Koi.Messages.OnlyAdminsSeeThis)
  </div>
}

@* Include styles of the App *@
<link rel="stylesheet" href="@App.Path/dist/bs4.min.css" data-enableoptimizations="true" />

@* Include bootstrap 4 if the framework isn't known - then this file is still called, and we add Bootstrap to the page *@
@if(!pageCss.Is("bs4")) {
  <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous" data-enableoptimizations="true" />
  <script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous" data-enableoptimizations="true" ></script>
}

@* Include libaries / scripts *@
@* @if(DynamicModel.scripts == true) {
  // tell DNN to load jquery as it's needed by fancybox
  var page = GetService<ToSic.Sxc.Web.IPageService>();
  page.Activate("jQuery.Slim");

  <script type="text/javascript" src="@App.Path/dist/scripts.min.js" data-enableoptimizations="bottom"></script>
} *@